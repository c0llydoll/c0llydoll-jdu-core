(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[8880],{66848:(w,W,s)=>{"use strict";s.d(W,{Z:()=>Ve});var e=s(67294),y=s(71893),A=s(45697),v=s.n(A),g=s(41580),$=s(85038),C=s(85893);function j(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,C.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"})]})}var L=s(34668),n=s(14484),b=s(65531),N=s(73145),le=s(82574),re=s(60133);function ne(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"})]})}var Q=s(74525);function ae(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,C.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"})]})}var oe=s(48394);function pe(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,C.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"})]})}var d=s(21210),de=s(3963),ue=s(31666),U=s(68547);const Qe={biginteger:ue.Z,boolean:n.Z,collectionType:j,component:$.Z,contentType:j,date:L.Z,datetime:L.Z,decimal:ue.Z,dynamiczone:b.Z,email:N.Z,enum:le.Z,enumeration:le.Z,file:Q.Z,files:Q.Z,float:ue.Z,integer:ue.Z,json:re.Z,JSON:re.Z,media:Q.Z,number:ue.Z,password:ae,relation:oe.Z,richtext:ne,singleType:pe,string:d.Z,text:d.Z,time:L.Z,timestamp:L.Z,uid:de.Z},_e=(0,y.default)(g.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ke=({type:Re,customField:K,...q})=>{const H=(0,U.useCustomFields)();let Pe=Qe[Re];if(K){const{icon:Me}=H.get(K);Me&&(Pe=Me)}return Qe[Re]?e.createElement(_e,{height:(0,U.pxToRem)(24),width:(0,U.pxToRem)(32),shrink:0,...q,"aria-hidden":!0},e.createElement(g.x,{as:Pe})):null};Ke.defaultProps={customField:null},Ke.propTypes={type:v().string.isRequired,customField:v().string};const Ve=Ke},7955:(w,W,s)=>{"use strict";s.d(W,{Z:()=>A});var e=s(67294);const A=(0,e.createContext)()},98422:(w,W,s)=>{"use strict";s.d(W,{Z:()=>A});var e=s(67294);const A=(0,e.createContext)()},13588:(w,W,s)=>{"use strict";s.d(W,{Z:()=>v});var e=s(67294),y=s(7955);const v=()=>(0,e.useContext)(y.Z)},26478:(w,W,s)=>{"use strict";s.d(W,{Z:()=>v});var e=s(67294),y=s(98422);const v=()=>(0,e.useContext)(y.Z)},9818:(w,W,s)=>{"use strict";s.r(W),s.d(W,{default:()=>js});var e=s(67294),y=s(49656),A=s(15482),v=s(49212),g=s(68547),$=s(17034),C=s(57176),j=s(96124),L=s(45697),n=s.n(L),b=s(96486),N=s(37424),le=s(35281),re=s(7955),ne=s(26478),Q=s(11817);const ae=Q.Z.create({baseURL:`/${j.Z}`});ae.interceptors.request.use(async t=>(t.headers={Authorization:`Bearer ${g.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},t),t=>{Promise.reject(t)}),ae.interceptors.response.use(t=>t,t=>{throw t.response?.status===401&&(g.auth.clearAppStorage(),window.location.reload()),t});const pe=(0,g.wrapAxiosInstance)(ae);var d=s(5002),de=s(85169),ue=s(27361),U=s.n(ue),Qe=s(18721),_e=s.n(Qe),Ke=s(36968),Ve=s.n(Ke),Re=s(7334),K=s.n(Re),q=s(41580),H=s(29728),Pe=s(70004),Me=s(42866),st=s(59946),Gt=s(36856),pt=s(82777),et=s(60633),$e=s(42761),Ce=s(11047),Ae=s(7681),He=s(13588),It=s(38953),$t=s(11700),je=s.n($t);const Xt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],gt=({intlLabel:t,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,v.useIntl)(),l=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>je()(c)).join(", "),u=t.id?r({id:t.id,defaultMessage:t.defaultMessage}):a;return e.createElement(It.Q,{id:"select1",label:u,customizeContent:()=>l,onChange:c=>{c.length>0?o({target:{name:a,value:c,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:Xt,value:i||[]})};gt.defaultProps={value:null},gt.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().object,n().array])};const Yt=gt;var he=s(75515);const qe=t=>t.kind==="collectionType"&&(t.restrictRelationsTo===null||Array.isArray(t.restrictRelationsTo)&&t.restrictRelationsTo.length>0);var At=s(11276),ft=s(74571),Ze=s(17373),rt=s(66848),Be=s(71893);const De=(0,Be.default)(q.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:t})=>t.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:t})=>t.colors.primary100};
    border: 1px solid ${({theme:t})=>t.colors.primary200};
  }
`,yt=({type:t})=>{const{formatMessage:a}=(0,v.useIntl)(),{onClickSelectField:o}=(0,ne.Z)(),i=()=>{o({attributeType:t,step:t==="component"?"1":null})};return e.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},e.createElement(Ce.k,null,e.createElement(rt.Z,{type:t}),e.createElement(q.x,{paddingLeft:4},e.createElement(Ce.k,null,e.createElement(he.Z,{fontWeight:"bold"},a({id:(0,d.Z)(`attribute.${t}`),defaultMessage:t}))),e.createElement(Ce.k,null,e.createElement(he.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,d.Z)(`attribute.${t}.description`),defaultMessage:"A type for modeling data"}))))))};yt.defaultProps={type:"text"},yt.propTypes={type:n().string};const Ye=yt,Fe=t=>{const a=t%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},it=({attributes:t})=>e.createElement(Ze.k,{tagName:"button"},e.createElement(Ae.K,{spacing:8},t.map((a,o)=>e.createElement(At.r,{key:o,gap:0},a.map((i,r)=>{const{paddingLeft:l,paddingRight:u}=Fe(r);return e.createElement(ft.P,{key:i,col:6,style:{height:"100%"}},e.createElement(q.x,{paddingLeft:l,paddingRight:u,paddingBottom:1,style:{height:"100%"}},e.createElement(Ye,{type:i})))})))));it.propTypes={attributes:n().array.isRequired};const lt=it;var ht=s(23620),dt=s(80129),jt=s.n(dt),Qt=s(32064),bt=s(52624),ve=s(96315),_t=s(86031);const en=(0,Be.default)(q.x)`
  background: ${({theme:t})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${t.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Bt=()=>e.createElement(Ce.k,{wrap:"wrap",gap:4},[...Array(4)].map((t,a)=>e.createElement(en,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),tn=()=>{const{formatMessage:t}=(0,v.useIntl)();return e.createElement(q.x,{position:"relative"},e.createElement(Bt,null),e.createElement(q.x,{position:"absolute",top:6,width:"100%"},e.createElement(Ce.k,{alignItems:"center",justifyContent:"center",direction:"column"},e.createElement(bt.J,{as:_t.default,color:"",width:"160px",height:"88px"}),e.createElement(q.x,{paddingTop:6,paddingBottom:4},e.createElement(q.x,{textAlign:"center"},e.createElement(he.Z,{variant:"delta",as:"p",textColor:"neutral600"},t({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),e.createElement(q.x,{paddingTop:4},e.createElement(he.Z,{variant:"delta",as:"p",textColor:"neutral600"},t({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),e.createElement(Qt.Q,{to:`/marketplace?${jt().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:e.createElement(ve.default,null)},t({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},zt=({customFieldUid:t,customField:a})=>{const{type:o,intlLabel:i,intlDescription:r}=a,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:u}=(0,ne.Z)(),c=()=>{u({attributeType:o,customFieldUid:t})};return e.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},e.createElement(Ce.k,null,e.createElement(rt.Z,{type:o,customField:t}),e.createElement(q.x,{paddingLeft:4},e.createElement(Ce.k,null,e.createElement(he.Z,{fontWeight:"bold"},l(i))),e.createElement(Ce.k,null,e.createElement(he.Z,{variant:"pi",textColor:"neutral600"},l(r))))))};zt.propTypes={customFieldUid:n().string.isRequired,customField:n().shape({type:n().string.isRequired,icon:n().func,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,intlDescription:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired}).isRequired};const Je=zt,Ut=()=>{const{formatMessage:t}=(0,v.useIntl)(),a=(0,g.useCustomFields)(),o=Object.entries(a.getAll());if(!o.length)return e.createElement(tn,null);const i=o.sort((r,l)=>r[1].name>l[1].name?1:-1);return e.createElement(Ze.k,{tagName:"button"},e.createElement(Ae.K,{spacing:3},e.createElement(At.r,{gap:0},i.map(([r,l],u)=>{const{paddingLeft:c,paddingRight:p}=Fe(u);return e.createElement(ft.P,{key:r,col:6,style:{height:"100%"}},e.createElement(q.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},e.createElement(Je,{key:r,customFieldUid:r,customField:l})))})),e.createElement(ht.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},t({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},vt=({attributes:t,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,v.useIntl)(),r=(0,d.Z)("modalForm.tabs.default"),l=(0,d.Z)("modalForm.tabs.custom"),u=a.includes("component")?"component":o,c=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${u}`);return e.createElement(st.f,{padding:6},e.createElement(pt.v,{label:i({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},e.createElement(Ce.k,{justifyContent:"space-between"},e.createElement(he.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),e.createElement(et.m,null,e.createElement(et.O,null,i({id:r,defaultMessage:"Default"})),e.createElement(et.O,null,i({id:l,defaultMessage:"Custom"})))),e.createElement(q.x,{paddingBottom:6},e.createElement(Pe.i,null)),e.createElement($e.n,null,e.createElement($e.x,null,e.createElement(lt,{attributes:t})),e.createElement($e.x,null,e.createElement(Ut,null)))))};vt.propTypes={attributes:n().array.isRequired,forTarget:n().string.isRequired,kind:n().string.isRequired};const Ge=vt;var nn=s(28702);const Zt=({description:t,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:l,value:u})=>{const{formatMessage:c}=(0,v.useIntl)(),[p,h]=(0,e.useState)(!1),f=o.id?c({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,m=t?c({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",R=()=>h(z=>!z),x=()=>{l({target:{name:r,value:!1}}),R()},I=({target:{checked:z}})=>{if(!z&&!i){R();return}l({target:{name:r,value:z}})};return e.createElement(e.Fragment,null,e.createElement(nn.Checkbox,{checked:u,disabled:a,hint:m,name:r,onChange:I},f),e.createElement(g.ConfirmDialog,{isOpen:p,onToggleDialog:R,onConfirm:x,bodyText:{id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Zt.defaultProps={description:null,disabled:!1,value:!1},Zt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const an=Zt;var Ft=s(2407),kt=s(24969);const ut=({actionType:t,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:l,forTarget:u,modalType:c,targetUid:p,customFieldUid:h})=>{const{formatMessage:f}=(0,v.useIntl)(),{modifiedData:m}=(0,He.Z)();let R,x=[];const I=m?.[u]?.[p]||m?.[u]||null;let z=I?.schema.displayName;if(c==="contentType"&&(R=r),["component","editCategory"].includes(c)&&(R="component"),["component","contentType"].includes(c)){let M=(0,d.Z)(`modalForm.component.header-${t}`);return c==="contentType"&&(M=(0,d.Z)(`modalForm.${r}.header-create`)),t==="edit"&&(M=(0,d.Z)("modalForm.header-edit")),e.createElement(kt.x,null,e.createElement(Ce.k,null,e.createElement(q.x,null,e.createElement(rt.Z,{type:R})),e.createElement(q.x,{paddingLeft:3},e.createElement(he.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},f({id:M},{name:z})))))}x=[{label:z,info:{category:I?.category||null,name:I?.schema.displayName}}],c==="chooseAttribute"&&(R=["component","components"].includes(u)?"component":I.schema.kind),c==="addComponentToDynamicZone"&&(R="dynamiczone",x.push({label:l})),(c==="attribute"||c==="customField")&&(R=o,x.push({label:a})),c==="editCategory"&&(x=[{label:f({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const Z=x.map(({label:M})=>M).join(",");return e.createElement(kt.x,null,e.createElement(Ae.K,{horizontal:!0,spacing:3},e.createElement(rt.Z,{type:R,customField:h}),e.createElement(Ft.O,{label:Z},x.map((M,S)=>{const Y=je()(M.label);if(!Y)return null;const se=`${M.label}.${S}`;if(M.info?.category){const be=`${Y} (${je()(M.info.category)} - ${je()(M.info.name)})`;return e.createElement(Ft.$,{key:se},be)}return e.createElement(Ft.$,{key:se},Y)}))))};ut.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},ut.propTypes={actionType:n().string,attributeName:n().string,attributeType:n().string,categoryName:n().string,contentTypeKind:n().string,dynamicZoneTarget:n().string,forTarget:n().oneOf(["contentType","component","components"]),modalType:n().string.isRequired,targetUid:n().string,customFieldUid:n().string};const _=ut,ge=({categoryName:t,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:l,isComponentAttribute:u,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:h,isCreatingComponentAttribute:f,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:R,isCreatingContentType:x,isCreatingDz:I,isComponentModal:z,isDzAttribute:X,isEditingAttribute:Z,isEditingCategory:M,isInFirstComponentStep:S,onSubmitAddComponentAttribute:Y,onSubmitAddComponentToDz:se,onSubmitCreateContentType:be,onSubmitCreateComponent:k,onSubmitCreateDz:fe,onSubmitEditAttribute:te,onSubmitEditCategory:mt,onSubmitEditComponent:me,onSubmitEditContentType:J,onSubmitEditCustomFieldAttribute:ye,onSubmitEditDz:Ot,onClickFinish:nt})=>{const{formatMessage:ie}=(0,v.useIntl)();return c?m?e.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),se(O,!0)},startIcon:e.createElement(ve.default,null)},ie({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):e.createElement(H.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),se(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"})):r&&X&&!I?e.createElement(H.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),nt(),Ot(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"})):r&&X&&I?e.createElement(e.Fragment,null,e.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),fe(O,!0)},startIcon:e.createElement(ve.default,null)},ie({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&u?S?e.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),Y(O,!0)}},ie(f?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):e.createElement(e.Fragment,null,e.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),Y(O,!0)},startIcon:e.createElement(ve.default,null)},ie(R?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),e.createElement(H.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),nt(),Y(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"}))):r&&!u&&!X?e.createElement(e.Fragment,null,e.createElement(H.z,{type:Z?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),te(O,!0)},startIcon:e.createElement(ve.default,null)},ie({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),e.createElement(H.z,{type:Z?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),nt(),te(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"}))):p?e.createElement(e.Fragment,null,!x&&e.createElement(e.Fragment,null,e.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),i()}},ie({id:"global.delete",defaultMessage:"Delete"})),e.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),J(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"}))),x&&e.createElement(H.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),be(O,!0)}},ie({id:"global.continue",defaultMessage:"Continue"}))):z?e.createElement(e.Fragment,null,!h&&e.createElement(e.Fragment,null,e.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},ie({id:"global.delete",defaultMessage:"Delete"})),e.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),me(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"}))),h&&e.createElement(H.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),k(O,!0)}},ie({id:"global.continue",defaultMessage:"Continue"}))):M?e.createElement(e.Fragment,null,e.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(t)}},ie({id:"global.delete",defaultMessage:"Delete"})),e.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),mt(O)}},ie({id:"global.finish",defaultMessage:"finish"}))):l?e.createElement(e.Fragment,null,e.createElement(H.z,{type:Z?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ye(O,!0)},startIcon:e.createElement(ve.default,null)},ie({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),e.createElement(H.z,{type:Z?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),nt(),ye(O,!1)}},ie({id:"global.finish",defaultMessage:"Finish"}))):null};ge.defaultProps={categoryName:null,onClickFinish(){}},ge.propTypes={categoryName:n().string,deleteCategory:n().func.isRequired,deleteComponent:n().func.isRequired,deleteContentType:n().func.isRequired,isAttributeModal:n().bool.isRequired,isCustomFieldModal:n().bool.isRequired,isComponentAttribute:n().bool.isRequired,isComponentModal:n().bool.isRequired,isComponentToDzModal:n().bool.isRequired,isContentTypeModal:n().bool.isRequired,isCreatingComponent:n().bool.isRequired,isCreatingComponentAttribute:n().bool.isRequired,isCreatingComponentInDz:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,isCreatingContentType:n().bool.isRequired,isCreatingDz:n().bool.isRequired,isDzAttribute:n().bool.isRequired,isEditingAttribute:n().bool.isRequired,isEditingCategory:n().bool.isRequired,isInFirstComponentStep:n().bool.isRequired,onSubmitAddComponentAttribute:n().func.isRequired,onSubmitAddComponentToDz:n().func.isRequired,onSubmitCreateContentType:n().func.isRequired,onSubmitCreateComponent:n().func.isRequired,onSubmitCreateDz:n().func.isRequired,onSubmitEditAttribute:n().func.isRequired,onSubmitEditCategory:n().func.isRequired,onSubmitEditComponent:n().func.isRequired,onSubmitEditContentType:n().func.isRequired,onSubmitEditCustomFieldAttribute:n().func.isRequired,onSubmitEditDz:n().func.isRequired,onClickFinish:n().func};const We=ge,qa=({modalType:t,forTarget:a,kind:o,actionType:i,step:r})=>{switch(t){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},on=({actionType:t,modalType:a,forTarget:o,kind:i,step:r,attributeType:l,attributeName:u,customField:c})=>{const{formatMessage:p}=(0,v.useIntl)(),h=a==="customField"?c.intlLabel:{id:(0,d.Z)(`attribute.${l}`)};return e.createElement(Ae.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},e.createElement(he.Z,{as:"h2",variant:"beta"},p({id:qa({actionType:t,forTarget:o,kind:i,step:r,modalType:a}),defaultMessage:"Add new field"},{type:je()(p(h)),name:je()(u),step:r})),e.createElement(he.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,d.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};on.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},on.propTypes={actionType:n().string,modalType:n().string,forTarget:n().string,kind:n().string,step:n().string,attributeType:n().string,attributeName:n().string,customField:n().object};const Wa=on;var qt=s(91216),Wt=s(82562);const sn=({intlLabel:t,name:a,options:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,v.useIntl)(),u=t.id?l({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):a,c=p=>{let h="";p==="true"&&(h=!0),p==="false"&&(h=!1),i({target:{name:a,value:h,type:"select-default-boolean"}})};return e.createElement(qt.P,{label:u,id:a,name:a,onChange:c,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:p,disabled:h,hidden:f},key:m,value:R})=>e.createElement(Wt.W,{key:m,value:R,disabled:h,hidden:f},p.defaultMessage)))};sn.defaultProps={value:null},sn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().any};const wa=sn;var Ka=s(15585);const Va=(0,Be.default)(Ae.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ka.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:t})=>t.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:t})=>t.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:t})=>t.colors.neutral0};
      width: ${({theme:t})=>t.spaces[5]};
      height: ${({theme:t})=>t.spaces[5]};
      border: solid 1px ${({theme:t})=>t.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:t})=>t.spaces[3]};
        height: ${({theme:t})=>t.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:t})=>t.colors.primary100};
    ${he.Z} {
      color: ${({theme:t})=>t.colors.primary600};
    }
    border: 1px solid ${({theme:t})=>t.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:t})=>t.colors.primary600};
      &::after {
        background: ${({theme:t})=>t.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,rn=({intlLabel:t,name:a,onChange:o,radios:i,value:r})=>{const{formatMessage:l}=(0,v.useIntl)();return e.createElement(Ae.K,{spacing:2},e.createElement(he.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},l(t)),e.createElement(Va,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(u=>e.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},e.createElement("input",{id:u.value.toString(),name:a,className:"option-input",checked:u.value===r,value:u.value,key:u.value,onChange:o,type:"radio"}),e.createElement(q.x,{className:"option",padding:4},e.createElement(Ce.k,null,e.createElement(q.x,{paddingRight:4},e.createElement("span",{className:"checkmark"})),e.createElement(Ae.K,{spacing:2},e.createElement(he.Z,{fontWeight:"bold"},l(u.title)),e.createElement(he.Z,{variant:"pi",textColor:"neutral600"},l(u.description)))))))))};rn.defaultProps={radios:[]},rn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,radios:n().arrayOf(n().shape({title:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),value:n().any.isRequired})),value:n().oneOfType([n().string,n().bool]).isRequired};const ln=rn,Gn=({onChange:t,name:a,...o})=>{const i=r=>{const l=r.target.value!=="false";t({target:{name:a,value:l,type:"boolean-radio-group"}})};return e.createElement(ln,{...o,name:a,onChange:i})};Gn.propTypes={name:n().string.isRequired,onChange:n().func.isRequired};const Ha=Gn;var Ga=s(36213),dn=s(41363),Xn=s(99216),Xa=s(54574),Ya=s(64777),Ja=s(45377),Qa=s(63428),_a=s(96404),eo=s(75228),Yn=s(14085),Jn=s(7801),to=s(97194),Qn=s(98402);function no({prop:t,defaultProp:a,onChange:o=()=>{}}){const[i,r]=ao({defaultProp:a,onChange:o}),l=t!==void 0,u=typeof t=="function"?t(i):t,c=l?u:i,p=(0,Qn.useCallbackRef)(o),h=e.useCallback(f=>{if(l){const m=typeof f=="function"?f(u):f;m!==u&&(p(m),r(f))}else r(f)},[l,u,r,p]);return[c,h]}function ao({defaultProp:t,onChange:a}){const o=e.useState(t),[i]=o,r=e.useRef(i),l=(0,Qn.useCallbackRef)(a);return e.useEffect(()=>{r.current!==i&&(l(i),r.current=i)},[i,r,l]),o}const _n=Be.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:t})=>t?"flex-end":"flex-start"};
  transform: translateY(${({reverse:t})=>t?"-2px":"2px"});
  cursor: ${({disabled:t})=>t?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:t})=>t?"rotateX(180deg)":void 0};
  }
`,oo="",wt=e.forwardRef(({size:t,startAction:a,name:o,hint:i,error:r,label:l,labelAction:u,locale:c,id:p,onValueChange:h,value:f,step:m,required:R,disabled:x,...I},z)=>{const X=(0,Yn.M)(p),Z=c||(0,to.s)(),M=(0,e.useRef)(new Xn.NumberParser(Z,{style:"decimal"})),S=(0,e.useRef)(new Xn.NumberFormatter(Z,{maximumFractionDigits:20})),[Y,se]=no({prop(J){const ye=String(f);return isNaN(ye)||ye!==J&&J!==""?J:ye},defaultProp:oo,onChange(J){const ye=M.current.parse(J);h(isNaN(ye)?void 0:ye)}}),be=J=>{se(String(J))},k=({target:{value:J}})=>{M.current.isValidPartialNumber(J)&&be(J)},fe=()=>{if(!Y){be(m);return}const J=M.current.parse(Y),ye=isNaN(J)?m:J+m;be(S.current.format(ye))},te=()=>{if(!Y){be(-m);return}const J=M.current.parse(Y),ye=isNaN(J)?-m:J-m;be(S.current.format(ye))},mt=J=>{if(!x)switch(J.key){case Jn.y.DOWN:{J.preventDefault(),te();break}case Jn.y.UP:{J.preventDefault(),fe();break}}},me=()=>{if(Y){const J=M.current.parse(Y),ye=isNaN(J)?"":S.current.format(J);be(ye)}};return e.createElement(Xa.g,{name:o,hint:i,error:r,id:X,required:R},e.createElement(Ae.K,{spacing:1},l&&e.createElement(Ya.Q,{action:u},l),e.createElement(Ja._,{ref:z,startAction:a,disabled:x,type:"text",inputmode:"decimal",onChange:k,onKeyDown:mt,onBlur:me,value:Y,size:t,endAction:e.createElement(e.Fragment,null,e.createElement(_n,{disabled:x,"aria-hidden":!0,reverse:!0,onClick:fe,tabIndex:-1,type:"button","data-testid":"ArrowUp"},e.createElement(bt.J,{as:dn.CarretDown,color:"neutral500"})),e.createElement(_n,{disabled:x,"aria-hidden":!0,onClick:te,tabIndex:-1,type:"button","data-testid":"ArrowDown"},e.createElement(bt.J,{as:dn.CarretDown,color:"neutral500"}))),...I}),e.createElement(Qa.J,null),e.createElement(_a.c,null)))});wt.displayName="NumberInput",wt.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},wt.propTypes={"aria-label":L.string,disabled:L.bool,error:L.string,hint:L.oneOfType([L.string,L.node,L.arrayOf(L.node)]),id:L.string,label:L.string,labelAction:L.element,locale:L.string,name:L.string.isRequired,onValueChange:L.func.isRequired,required:L.bool,size:L.oneOf(Object.keys(eo.J.input)),startAction:L.element,step:L.number,value:L.number};var un=s(16364);const cn=({error:t,intlLabel:a,modifiedData:o,name:i,onChange:r,value:l})=>{const{formatMessage:u}=(0,v.useIntl)(),[c,p]=(0,e.useState)(!!l||l===0),h=a.id?u({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,f=o.type==="biginteger"?"text":"number",m=!o.type,R=t?u({id:t,defaultMessage:t}):"";return e.createElement(Ae.K,{spacing:2},e.createElement(Ga.X,{id:i,name:i,onValueChange:x=>{r({target:{name:i,value:x?f==="text"?"0":0:null}}),p(X=>!X)},value:c},h),c&&e.createElement(q.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?e.createElement(un.o,{"aria-label":h,disabled:m,error:R,id:i,name:i,onChange:r,value:l===null?"":l}):e.createElement(wt,{"aria-label":h,disabled:m,error:R,id:i,name:i,onValueChange:x=>{r({target:{name:i,value:x,type:f}})},value:l||0})))};cn.defaultProps={error:null,value:null},cn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().string,n().object,n().bool,n().number])};const so=cn,ea=({onChange:t,...a})=>{const o=(0,g.useNotification)(),i=r=>{o({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),t(r)};return e.createElement(ln,{...a,onChange:i})};ea.propTypes={onChange:n().func.isRequired};const ro=ea;var mn=s(1734),ta=s(17205),Ee=s(59015);const pn=({oneThatIsCreatingARelationWithAnother:t,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,He.Z)(),r=(0,N.useDispatch)(),l=i.filter(qe),u=U()(o,[a,"plugin"],null),c=U()(o,[a,"schema","displayName"],"error");return e.createElement(ta.O,{id:"label",label:`${c}
    ${u?`(from: ${u})`:""}`},l.map(({uid:p,title:h,restrictRelationsTo:f,plugin:m})=>{const R=()=>{const x=m?`${m}_${h}`:h;r({type:Ee.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:t,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:f}})};return e.createElement(ta.s,{key:p,onClick:R},h,"\xA0",m&&e.createElement(e.Fragment,null,"(from: ",m,")"))}))};pn.defaultProps={target:null},pn.propTypes={oneThatIsCreatingARelationWithAnother:n().string.isRequired,target:n().string};const io=pn,gn=({disabled:t,error:a,header:o,isMain:i,name:r,onChange:l,oneThatIsCreatingARelationWithAnother:u,target:c,value:p})=>e.createElement(q.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},e.createElement(Ce.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?e.createElement(he.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):e.createElement(io,{target:c,oneThatIsCreatingARelationWithAnother:u})),e.createElement(Pe.i,{background:"neutral200"}),e.createElement(q.x,{padding:4},e.createElement(g.GenericInput,{disabled:t,error:a?.id||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:l,type:"text",value:p})));gn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},gn.propTypes={disabled:n().bool,error:n().object,header:n().string,isMain:n().bool,name:n().string.isRequired,onChange:n().func,oneThatIsCreatingARelationWithAnother:n().string,target:n().string,value:n().string};const na=gn;var lo=s(39138),aa=s.n(lo),uo=s(23450),fn=s.n(uo),ce=s(85893);function co(t){return(0,ce.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"})]})}function mo(t){return(0,ce.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"})})}function po(t){return(0,ce.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"})]})}function go(t){return(0,ce.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ce.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"})]})}function fo(t){return(0,ce.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ce.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"})]})}function yo(t){return(0,ce.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,ce.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),(0,ce.jsx)("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"})]})}const ho=(0,Be.default)(q.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:t})=>t.colors.primary600};
    z-index: 0;
  }
`,bo=(0,Be.default)(q.x)`
  background: ${({theme:t,isSelected:a})=>t.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:t,isSelected:a})=>t.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:t})=>t.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:t,isSelected:a})=>t.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,vo=(0,Be.default)(Ce.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Co={oneWay:mo,oneToOne:co,oneToMany:go,manyToOne:fo,manyToMany:yo,manyWay:po},yn=({naturePickerType:t,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const r=(0,N.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:u,modifiedData:c}=(0,He.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],h=["oneWay","manyWay"],m=(t==="contentType"?U()(c,[t,"schema","kind"],""):t)==="collectionType"?p:h,R=o==="manyToOne",x=U()(u,[i,"schema","displayName"],"unknown"),I=R?x:a,z=R?a:x,X=fn()(I,o==="manyToMany"?2:1),Z=U()(u,[i,"schema","restrictRelationsTo"],null),M=fn()(z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?e.createElement(Ce.k,{style:{flex:1}},e.createElement(ho,null,e.createElement(Ce.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},e.createElement(Ze.k,{tagName:"button"},e.createElement(Ae.K,{spacing:3,horizontal:!0},m.map(S=>{const Y=Co[S],se=Z===null||Z.includes(S);return e.createElement(bo,{as:"button",isSelected:o===S,disabled:!se,key:S,onClick:()=>{se&&r({type:Ee.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:S}})},padding:2,type:"button"},e.createElement(Y,{key:S}))}))))),e.createElement(vo,{justifyContent:"center"},e.createElement(he.Z,null,aa()(X,{length:24}),"\xA0"),e.createElement(he.Z,{textColor:"primary600"},l({id:(0,d.Z)(`relation.${o}`)}),"\xA0"),e.createElement(he.Z,null,aa()(M,{length:24})))):null};yn.defaultProps={relationType:null,target:null},yn.propTypes={naturePickerType:n().string.isRequired,oneThatIsCreatingARelationWithAnother:n().string.isRequired,relationType:n().string,target:n().string};const Eo=yn,oa=({formErrors:t,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:r})=>{const l=(0,mn.Z)(o.relation,o.targetAttribute);return e.createElement(Ce.k,{style:{position:"relative"}},e.createElement(na,{isMain:!0,header:a,error:t?.name||null,name:"name",onChange:r,value:o?.name||""}),e.createElement(Eo,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:l,target:o.target}),e.createElement(na,{disabled:["oneWay","manyWay"].includes(l),error:t?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};oa.propTypes={formErrors:n().object.isRequired,mainBoxHeader:n().string.isRequired,modifiedData:n().object.isRequired,naturePickerType:n().string.isRequired,onChange:n().func.isRequired};const To=oa;var sa=s(97406);const hn=({description:t,error:a,intlLabel:o,modifiedData:i,name:r,onChange:l,value:u})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,e.useRef)(l),h=i?.displayName||"";(0,e.useEffect)(()=>{if(h){const x=(0,sa.Z)(h);try{const I=fn()(x,2);p.current({target:{name:r,value:I}})}catch{p.current({target:{name:r,value:x}})}}else p.current({target:{name:r,value:""}})},[h,r]);const f=a?c({id:a,defaultMessage:a}):"",m=t?c({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",R=c(o);return e.createElement(un.o,{error:f,label:R,id:r,hint:m,name:r,onChange:l,value:u||""})};hn.defaultProps={description:null,error:null,value:null},hn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Mo=hn;var xo=s(38855),Ro=s(90608);const bn=({error:t,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:u}=(0,He.Z)(),[c,p]=(0,e.useState)(u),h=t?l({id:t,defaultMessage:t}):"",f=l(a),m=x=>{i({target:{name:o,value:x,type:"select-category"}})},R=x=>{p(I=>[...I,x]),m(x)};return e.createElement(xo.X,{error:h,id:o,label:f,name:o,onChange:m,onCreateOption:R,value:r},c.map(x=>e.createElement(Ro.O,{key:x,value:x},x)))};bn.defaultProps={error:null,value:null},bn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Ao=bn,vn=({error:t,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:l,name:u,onChange:c,targetUid:p,forTarget:h,value:f})=>{const{formatMessage:m}=(0,v.useIntl)(),R=t?m({id:t,defaultMessage:t}):"",x=m(a),{componentsGroupedByCategory:I,componentsThatHaveOtherComponentInTheirAttributes:z}=(0,He.Z)(),X=["component","components"].includes(h);let Z=Object.entries(I).reduce((M,S)=>{const[Y,se]=S,be=se.map(k=>({uid:k.uid,label:k.schema.displayName,categoryName:Y}));return[...M,...be]},[]);return o&&(Z=Z.filter(M=>!z.includes(M.uid))),X&&(Z=Z.filter(M=>M.uid!==p)),r&&(Z=[{uid:f,label:l.displayName,categoryName:l.category}]),e.createElement(qt.P,{disabled:r||!i,error:R,label:x,id:u,name:u,onChange:M=>{c({target:{name:u,value:M,type:"select-category"}})},value:f||""},Z.map(M=>e.createElement(Wt.W,{key:M.uid,value:M.uid},`${M.categoryName} - ${M.label}`)))};vn.defaultProps={componentToCreate:null,error:null},vn.propTypes={componentToCreate:n().object,forTarget:n().string.isRequired,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isAddingAComponentToAnotherComponent:n().bool.isRequired,isCreating:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,targetUid:n().string.isRequired,value:n().string.isRequired};const Zo=vn,Cn=(t,a)=>t.find(({name:o})=>o===a),ra=({dynamicZoneTarget:t,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:u,modifiedData:c}=(0,He.Z)(),h=(Cn(c.contentType.schema.attributes,t)||{}).components||[],f=Object.keys(u).reduce((x,I)=>{const z=u[I].filter(({uid:X})=>!h.includes(X));return z.length>0&&(x[I]=z),x},{}),m=Object.entries(f).reduce((x,I)=>{const[z,X]=I,Z={label:z,children:X.map(({uid:M,schema:{displayName:S}})=>({label:S,value:M}))};return x.push(Z),x},[]),R=l({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return e.createElement(It.Q,{id:"select1",label:l(a),customizeContent:()=>R,name:o,onChange:x=>{i({target:{name:o,value:x,type:"select-components"}})},options:m,value:r||[]})};ra.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,dynamicZoneTarget:n().string.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().array.isRequired};const Fo=ra,En=({intlLabel:t,error:a,modifiedData:o,name:i,onChange:r,options:l,value:u})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(t),h=a?c({id:a,defaultMessage:a}):"",f=m=>{r({target:{name:i,value:m,type:"select"}}),u&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return e.createElement(qt.P,{error:h,label:p,id:i,name:i,onChange:f,value:u||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:I,value:z})=>e.createElement(Wt.W,{key:I,value:z,disabled:R,hidden:x},c({id:m.id,defaultMessage:m.defaultMessage},m.values))))};En.defaultProps={error:void 0,value:""},En.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const So=En,Tn=({intlLabel:t,error:a,modifiedData:o,name:i,onChange:r,options:l,value:u})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(t),h=a?c({id:a,defaultMessage:a}):"",f=m=>{r({target:{name:i,value:m,type:"select"}}),u&&(m==="biginteger"&&u!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&u==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return e.createElement(qt.P,{error:h,label:p,id:i,name:i,onChange:f,value:u||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:I,value:z})=>e.createElement(Wt.W,{key:I,value:z,disabled:R,hidden:x},c(m))))};Tn.defaultProps={error:void 0,value:""},Tn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const Lo=Tn,Mn=({description:t,error:a,intlLabel:o,modifiedData:i,name:r,onChange:l,value:u})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,e.useRef)(l),h=i?.displayName||"";(0,e.useEffect)(()=>{h?p.current({target:{name:r,value:(0,sa.Z)(h)}}):p.current({target:{name:r,value:""}})},[h,r]);const f=a?c({id:a,defaultMessage:a}):"",m=t?c({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",R=c(o);return e.createElement(un.o,{error:f,label:R,id:r,hint:m,name:r,onChange:l,value:u||""})};Mn.defaultProps={description:null,error:null,value:null},Mn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Oo=Mn,ia=({form:t,formErrors:a,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:l}=(0,v.useIntl)();return t.map((u,c)=>u.items.length===0?null:e.createElement(q.x,{key:c},u.sectionTitle&&e.createElement(q.x,{paddingBottom:4},e.createElement(he.Z,{variant:"delta",as:"h3"},l(u.sectionTitle))),e.createElement(At.r,{gap:4},u.items.map((p,h)=>{const f=`${c}.${h}`,m=U()(i,p.name,""),R=Object.keys(a).find(I=>I===p.name),x=R?a[R].id:U()(a,[...p.name.split(".").filter(I=>I!=="componentToCreate"),"id"],null);return p.type==="pushRight"?e.createElement(ft.P,{col:p.size||6,key:p.name||f},e.createElement("div",null)):e.createElement(ft.P,{col:p.size||6,key:p.name||f},e.createElement(g.GenericInput,{...p,...o,error:x,onChange:r,value:m}))}))))};ia.propTypes={form:n().arrayOf(n().object).isRequired,formErrors:n().object.isRequired,genericInputProps:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired};const la=ia;var No=s(64256);const xn=({description:t,disabled:a,error:o,intlLabel:i,labelAction:r,name:l,onChange:u,placeholder:c,value:p})=>{const{formatMessage:h}=(0,v.useIntl)(),f=o?h({id:o,defaultMessage:o}):"",m=t?h({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",R=h(i),x=c?h({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",I=Array.isArray(p)?p.join(`
`):"",z=X=>{const Z=X.target.value.split(`
`);u({target:{name:l,value:Z}})};return e.createElement(No.g,{disabled:a,error:f,label:R,labelAction:r,id:l,hint:m,name:l,onChange:z,placeholder:x,value:I},I)};xn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},xn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,labelAction:n().element,name:n().string.isRequired,onChange:n().func.isRequired,placeholder:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),value:n().oneOfType([n().array,n().string])};const Po=xn,Do=(t,a)=>{const o=U()(t,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:U()(t,["contentType","schema","attributes"],[]).filter(({relation:l,type:u,targetAttribute:c})=>{const p=(0,mn.Z)(l,c);return u==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},Io=(t="",a,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],r=t==="contentType",l=o.includes(a),u=!r&&!l;return r?[[...i,"uid"],["component","dynamiczone"]]:u?[i,["component"]]:[i]},da=t=>t.reduce((a,o)=>{const i=o.items.reduce((r,l)=>(l.name&&r.push(l.name),r),[]);return[...a,...i]},[]);var T=s(53209),Ct=s(97392);const $o={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},ua=/^[A-Za-z][-_0-9A-Za-z]*$/,jo=t=>{const a={name:T.Z_().matches(ua,g.translatedErrors.regex).test({name:"nameNotAllowed",message:g.translatedErrors.unique,test(o){return o?!t.includes((0,b.toLower)(o)):!1}}).required(g.translatedErrors.required)};return T.Ry(a)},Bo=(t,a,o)=>{const i={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(r){if(!r)return!1;const l=(0,Ct.N)(r,o);return!t.includes(l)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(r){return r?!a.includes((0,b.toLower)((0,b.trim)(r))):!1}}).required(g.translatedErrors.required),category:T.Z_().matches(ua,g.translatedErrors.regex).required(g.translatedErrors.required),icon:T.Z_()};return T.Ry(i)},Rn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Et={base(t=""){return[{sectionTitle:null,items:[{name:`${t}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${t}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},zo={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:t},a){return a==="1"?{sections:Et.advanced("componentToCreate")}:t?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:t}){return{sections:[{sectionTitle:null,items:[{...D.default,type:t||"date",value:null,withDefaultValue:!1,disabled:!t,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(t){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(t.enum||[]).filter((a,o)=>t.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(t){const a=t.type==="decimal"||t.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:t.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(t){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(t.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},Xe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ca={advanced:zo,base:{component(t,a){if(a==="1"){const o=t.createComponent===!0?Et.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Rn]},...o]}}return{sections:[{sectionTitle:null,items:[Xe,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Xe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Xe,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(t,a,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{...Xe,placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},Uo={sections:[{sectionTitle:null,items:[Xe]}]};var ko=s(44908),qo=s.n(ko),Wo=s(46831),wo=s.n(Wo);const An=t=>wo()(t,{decamelize:!1,lowercase:!1,separator:"_"}),ma=/^[A-Za-z][_0-9A-Za-z]*$/,pa=t=>({name:"attributeNameAlreadyUsed",message:g.translatedErrors.unique,test(a){return a?!t.includes(a):!1}}),hr=(t,a,o)=>{const i=get(t,["schema","attributes"],{});return Object.keys(i).filter(r=>a?r!==o:!0)},Zn=t=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(a){return a?!t.includes(a):!1}}),E={default:()=>T.Z_().nullable(),max:()=>T.Rx().integer().nullable(),min:()=>T.Rx().integer().when("max",(t,a)=>t?a.max(t,(0,d.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>T.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>T.Rx().integer().min(0).when("maxLength",(t,a)=>t?a.max(t,(0,d.Z)("error.validation.minSupMax")):a).nullable(),name(t,a){return T.Z_().test(pa(t)).test(Zn(a)).matches(ma,g.translatedErrors.regex).required(g.translatedErrors.required)},required:()=>T.O7(),type:()=>T.Z_().required(g.translatedErrors.required),unique:()=>T.O7().nullable()},Fn=(t,a)=>({name:E.name(t,a),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:T.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Sn={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(t){if(!t)return!0;const{max:a}=this.parent;return!a||Number.isNaN((0,b.toNumber)(t))?!0:(0,b.toNumber)(a)>=(0,b.toNumber)(t)}},Ln={date(t,a){const o={name:E.name(t,a),type:E.type()};return T.Ry(o)},datetime(t,a){const o={name:E.name(t,a),type:E.type()};return T.Ry(o)},time(t,a){const o={name:E.name(t,a),type:E.type()};return T.Ry(o)},default(t,a){const o={name:E.name(t,a),type:E.type()};return T.Ry(o)},biginteger(t,a){const o={name:E.name(t,a),type:E.type(),default:T.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:T.Z_().nullable().matches(/^-?\d*$/,g.translatedErrors.regex),min:T.Z_().nullable().test(Sn).matches(/^-?\d*$/,g.translatedErrors.regex)};return T.Ry(o)},boolean(t,a){const o={name:E.name(t,a),default:T.O7().nullable(),required:E.required(),unique:E.unique()};return T.Ry(o)},component(t,a){const o={name:E.name(t,a),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:T.Z_().required(g.translatedErrors.required)};return T.Ry(o)},decimal(t,a){const o={name:E.name(t,a),type:E.type(),default:T.Rx(),required:E.required(),max:T.Rx(),min:T.Rx().test(Sn)};return T.Ry(o)},dynamiczone(t,a){const o={name:E.name(t,a),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return T.Ry(o)},email(t,a){const o={name:E.name(t,a),type:E.type(),default:T.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return T.Ry(o)},enumeration(t,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:T.Z_().test(pa(t)).test(Zn(a)).matches(o,g.translatedErrors.regex).required(g.translatedErrors.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:T.IX().of(T.Z_()).min(1,g.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(r){return!qo()(r.map(An).filter((u,c,p)=>p.indexOf(u)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:r=>!r.map(An).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:r=>r.map(An).every(l=>o.test(l))}),enumName:T.Z_().nullable()};return T.Ry(i)},float(t,a){const o={name:E.name(t,a),type:E.type(),required:E.required(),default:T.Rx(),max:T.Rx(),min:T.Rx().test(Sn)};return T.Ry(o)},integer(t,a){const o={name:E.name(t,a),type:E.type(),default:T.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return T.Ry(o)},json(t,a){const o={name:E.name(t,a),type:E.type(),required:E.required(),unique:E.unique()};return T.Ry(o)},media(t,a){const o={name:E.name(t,a),type:E.type(),multiple:T.O7(),required:E.required(),allowedTypes:T.IX().of(T.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.Ry(o)},password(t,a){const o={name:E.name(t,a),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return T.Ry(o)},relation(t,a,o,{initialData:i,modifiedData:r}){const l={name:E.name(t,a),target:T.Z_().required(g.translatedErrors.required),relation:T.Z_().required(),type:T.Z_().required(),targetAttribute:T.Vo(()=>{const u=(0,mn.Z)(r.relation,r.targetAttribute);if(u==="oneWay"||u==="manyWay")return T.Z_().nullable();let c=T.Z_().test(Zn(a)),h=[...o.map(({name:f})=>f),r.name].filter(f=>f!==i.targetAttribute);return c.matches(ma,g.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!h.includes(f):!1}}).required(g.translatedErrors.required)})};return T.Ry(l)},richtext(t,a){const o={name:E.name(t,a),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return T.Ry(o)},string(t,a){const o=Fn(t,a);return T.Ry(o)},text(t,a){const o=Fn(t,a);return T.Ry(o)},uid(t,a){const o=Fn(t,a);return T.Ry(o)}},ga={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},On={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[ga,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[ga,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Ko=({usedContentTypeNames:t=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[]})=>{const r={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,Ct.E)(l);return!t.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),pluralName:T.Z_().test({name:"pluralNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),singularName:T.Z_().test({name:"singularNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),draftAndPublish:T.O7(),kind:T.Z_().oneOf(["singleType","collectionType"])};return T.Ry(r)},Nn={advanced:{default(){return{sections:Et.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Rn]},...Et.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Rn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},fa=(t,a)=>{t.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},ya=(t,a)=>t.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o);var ha=s(25108);const tt={customField:{schema({schemaAttributes:t,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:l}){const u=ya(t,r),c=Ln[a](u,i.attributes);return l.makeCustomFieldValidator(c,o,u,i.attributes,r)},form:{base({customField:t}){const a=[{sectionTitle:null,items:[Xe]}];return t.options?.base&&fa(t.options.base,a),{sections:a}},advanced({customField:t,data:a,step:o,extensions:i,...r}){const l=[{sectionTitle:null,items:[]}],u=i.getAdvancedForm(["attribute",t.type],{data:a,type:t.type,step:o,...r});if(t.options?.advanced&&fa(t.options.advanced,l),u){const c={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:u};l.push(c)}return{sections:l}}}},attribute:{schema(t,a,o,i,r,l){const u=U()(t,["schema","attributes"],[]),c=ya(u,r);try{let p=Ln[a](c,o.attributes,i,r);return l.makeValidator(["attribute",a],p,c,o.attributes,i,r)}catch(p){return ha.error("Error yup build schema",p),Ln.default(c,o.attributes)}},form:{advanced({data:t,type:a,step:o,extensions:i,...r}){try{const l=ca.advanced[a](t,o).sections,u=i.getAdvancedForm(["attribute",a],{data:t,type:a,step:o,...r});return{sections:l.reduce((p,h)=>(h.sectionTitle===null?p.push(h):p.push({...h,items:[...h.items,...u]}),p),[])}}catch(l){return ha.error(l),{sections:[]}}},base({data:t,type:a,step:o,attributes:i}){try{return ca.base[a](t,o,i)}catch{return Uo}}}},contentType:{schema(t,a,o,i,r,l){const u=Object.values(l).map(R=>R.schema.singularName),c=Object.values(l).map(R=>U()(R,["schema","pluralName"],"")),p=a?t.filter(R=>R!==o):t,h=a?u.filter(R=>U()(l,[o,"schema","singularName"],"")!==R):u,f=a?c.filter(R=>U()(l,[o,"schema","pluralName"],"")!==R):c,m=Ko({usedContentTypeNames:p,reservedModels:i.models,singularNames:h,pluralNames:f});return r.makeValidator(["contentType"],m,p,i.models,h,f)},form:{base({actionType:t}){return t==="create"?On.base.create():On.base.edit()},advanced({extensions:t}){const a=On.advanced.default().sections.map(i=>i.items).flat(),o=t.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(t,a,o,i=!1,r=null){const l=i?t.filter(u=>u!==r):t;return Bo(l,o.models,a)},form:{advanced(){return{sections:Et.advanced()}},base(){return{sections:Et.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Nn.advanced.default()},base({data:t}){return U()(t,"createComponent",!1)?Nn.base.createComponent():Nn.base.default()}}},editCategory:{schema(t,a){const o=t.filter(i=>i!==a.name).map(i=>K()(i));return jo(o)},form:{advanced:()=>({sections:[]}),base(){return $o.base}}}};var ba=s(20573),Vo=s(88372);const Ho=()=>t=>t[`${j.Z}_formModal`]||Vo.E,Go=()=>(0,ba.P1)(Ho(),t=>t);var va=s(25108);const Xo=()=>{const{onCloseModal:t,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:l,attributeType:u,customFieldUid:c,categoryName:p,dynamicZoneTarget:h,forTarget:f,modalType:m,isOpen:R,kind:x,step:I,targetUid:z}=(0,ne.Z)(),X=(0,g.useCustomFields)().get(c),Z=(0,e.useRef)(),M=(0,e.useMemo)(Go,[]),S=(0,N.useDispatch)(),Y=(0,g.useNotification)(),se=(0,N.useSelector)(G=>M(G),N.shallowEqual),{push:be}=(0,y.useHistory)(),{trackUsage:k}=(0,g.useTracking)(),{formatMessage:fe}=(0,v.useIntl)(),{getPlugin:te}=(0,g.useStrapiApp)(),me=te(j.Z).apis.forms,J=me.components.inputs,{addAttribute:ye,addCustomFieldAttribute:Ot,addCreatedComponentToDynamicZone:nt,allComponentsCategories:ie,changeDynamicZoneComponents:O,contentTypes:Tt,components:Nt,createSchema:Mt,deleteCategory:In,deleteData:Vt,editCategory:$n,editCustomFieldAttribute:jn,submitData:Bn,modifiedData:Le,nestedComponents:Ht,setModifiedData:zn,sortedContentTypesList:Un,updateSchema:kn,reservedNames:we}=(0,He.Z)(),{componentToCreate:Pt,formErrors:B,initialData:F,isCreatingComponentWhileAddingAField:V,modifiedData:P}=se,Te=f==="contentType"||f==="component"?[f]:[f,z];(0,e.useEffect)(()=>{if(R){const G=Un.filter(qe);m==="editCategory"&&zn(),r==="edit"&&m==="attribute"&&f==="contentType"&&k("willEditFieldOfContentType");const Ie=[...Te,"schema","attributes"],Ue=Cn(U()(Le,Ie,[]),h)||null;if(m==="editCategory"&&r==="edit"&&S({type:Ee._H,modalType:m,actionType:r,data:{name:p}}),m==="contentType"&&r==="create"&&S({type:Ee._H,modalType:m,actionType:r,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&r==="edit"){const{displayName:ee,draftAndPublish:xe,kind:ke,pluginOptions:Oe,pluralName:Qs,singularName:_s}=U()(Le,[...Te,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});S({type:Ee._H,actionType:r,modalType:m,data:{displayName:ee,draftAndPublish:xe,kind:ke,pluginOptions:Oe,pluralName:Qs,singularName:_s}})}if(m==="component"&&r==="edit"){const ee=U()(Le,Te,{});S({type:Ee._H,actionType:r,modalType:m,data:{displayName:ee.schema.displayName,category:ee.category}})}if(m==="addComponentToDynamicZone"&&r==="edit"){const ee={...Ue,components:[],name:h,createComponent:!1,componentToCreate:{type:"component"}};S({type:Ee.VZ,attributeToEdit:ee})}if(u){const xe={...Cn(U()(Le,Ie,[]),l),name:l};u==="component"&&r==="edit"&&(xe.repeatable||Ve()(xe,"repeatable",!1)),S(m==="customField"?{type:Ee.OY,customField:X,isEditing:r==="edit",modifiedDataToSetForEditing:xe,forTarget:f}:{type:Ee.S0,attributeType:u,nameToSetForRelation:U()(G,["0","title"],"error"),targetUid:U()(G,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:xe,step:I,forTarget:f})}}else S({type:Ee.c2})},[r,l,u,p,h,f,R,m]);const Ne=m==="contentType",at=m==="component",xt=m==="attribute",Na=m==="customField",Pa=u==="component"&&xt,Dt=r==="create",ot=U()(P,"createComponent",!1)||V,Rt=I==="1",Da=m==="editCategory",Ia=m==="chooseAttribute",qn=(0,Ct.E)(P.displayName||""),Wn=U()(Le,[...Te,"schema","attributes"],null),Bs=async()=>{let G;const Ie=ot&&I==="1"?U()(P,"componentToCreate",{}):P;if(Ne)G=tt.contentType.schema(Object.keys(Tt),r==="edit",U()(Le,[...Te,"uid"],null),we,me,Tt);else if(at)G=tt.component.schema(Object.keys(Nt),P.category||"",we,r==="edit",U()(Le,[...Te,"uid"],null),me);else if(Na)G=tt.customField.schema({schemaAttributes:U()(Le,[...Te,"schema","attributes"],[]),attributeType:X.type,reservedNames:we,schemaData:{modifiedData:P,initialData:F},ctbFormsAPI:me,customFieldValidator:X.options?.validator});else if(Pa&&ot&&Rt)G=tt.component.schema(Object.keys(Nt),U()(P,"componentToCreate.category",""),we,me);else if(xt&&!Rt){const Ue=u==="relation"?"relation":P.type;let ee=[];if(Ue==="relation"){const xe=U()(P,["target"],null);ee=U()(Tt,[xe,"schema","attributes"],[]).filter(({name:Oe})=>r!=="edit"?!0:Oe!==F.targetAttribute)}G=tt.attribute.schema(U()(Le,Te,{}),Ue,we,ee,{modifiedData:P,initialData:F},me)}else if(Da)G=tt.editCategory.schema(ie,F,me);else if(Rt&&ot)G=tt.component.schema(Object.keys(Nt),U()(P,"componentToCreate.category",""),we,me);else return;await G.validate(Ie,{abortEarly:!1})},$a=(0,e.useCallback)(({target:{name:G,value:Ie,type:Ue,...ee}})=>{const xe=["enumName","max","min","maxLength","minLength","regex","default"];let ke;xe.includes(G)&&Ie===""?ke=null:ke=Ie;const Oe=Object.assign({},B);G==="max"&&delete Oe.min,G==="maxLength"&&delete Oe.minLength,delete Oe[G],S({type:Ee.Ey,errors:Oe}),S({type:Ee.P0,keys:G.split("."),value:ke,...ee})},[S,B]),ze=async(G,Ie=Dt)=>{G.preventDefault();try{await Bs(),ks(Ie);const Ue=f==="components"?z:qn;if(Ne)if(Dt)Mt({...P,kind:x},m,qn),be({pathname:`/plugins/${j.Z}/content-types/${qn}`}),a({forTarget:f,targetUid:Ue});else{Do(Le,P)?(t(),Bn(P)):Y({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(Dt){const ee=(0,Ct.N)(P.displayName,P.category),{category:xe,...ke}=P;Mt(ke,"component",ee,xe),be({pathname:`/plugins/${j.Z}/component-categories/${xe}/${ee}`}),a({forTarget:f,targetUid:ee})}else{kn(P,m,z),t();return}else if(Da){if(K()(F.name)===K()(P.name)){t();return}$n(F.name,P);return}else if(Na){const ee={attributeToSet:{...P,customField:c},forTarget:f,targetUid:z,initialAttribute:F};r==="edit"?jn(ee):Ot(ee),Ie?a({forTarget:f,targetUid:Ue}):t();return}else if(xt&&!ot){if(u==="dynamiczone"){ye(P,f,z,r==="edit",F),Dt?(S({type:Ee.I}),Z.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:P.name})):t();return}if(!Pa){ye(P,f,z,r==="edit",F),Ie?a({forTarget:f,targetUid:Ue}):t();return}if(Rt){i(),S({type:Ee.yC,forTarget:f});return}ye(P,f,z,r==="edit",F,!0),Ie?a({forTarget:f,targetUid:z}):t()}else if(xt&&ot){if(Rt){k("willCreateComponentFromAttributesModal"),S({type:Ee.oF,forTarget:f}),i();return}const{category:ee,type:xe,...ke}=Pt,Oe=(0,Ct.N)(Pt.displayName,ee);Mt(ke,xe,Oe,ee,ot),ye(P,f,z,!1),S({type:Ee.c2}),Ie?a({forTarget:"components",targetUid:Oe}):t();return}else{if(Rt)if(ot){const{category:ee,type:xe,...ke}=P.componentToCreate,Oe=(0,Ct.N)(P.componentToCreate.displayName,ee);Mt(ke,xe,Oe,ee,ot),nt(h,[Oe]),a({forTarget:"components",targetUid:Oe})}else O(h,P.components),t();else va.error("This case is not handled");return}S({type:Ee.c2})}catch(Ue){const ee=(0,g.getYupInnerErrors)(Ue);va.log({err:Ue,errors:ee}),S({type:Ee.Ey,errors:ee})}},zs=()=>{window.confirm(fe({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(t(),S({type:Ee.c2}))},ja=()=>{(0,b.isEqual)(P,F)?(t(),S({type:Ee.c2})):zs()},Us=G=>{if(G==="advanced"){if(Ne){k("didSelectContentTypeSettings");return}f==="contentType"&&k("didSelectContentTypeFieldSettings")}},ks=G=>{m==="attribute"&&f==="contentType"&&u!=="dynamiczone"&&G&&k("willAddMoreFieldToContentType")},qs=()=>!!(m==="editCategory"||m==="component"||_e()(P,"createComponent")),Ws=Io(f,z,Ht);if(!R||!m)return null;const Ba=U()(tt,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ws=f==="components"||f==="component",za={customInputs:{"allowed-types-select":Yt,"boolean-radio-group":Ha,"checkbox-with-number-field":so,"content-type-radio-group":ro,"radio-group":ln,relation:To,"select-category":Ao,"select-component":Zo,"select-components":Fo,"select-default-boolean":wa,"select-number":Lo,"select-date":So,"toggle-draft-publish":an,"text-plural":Mo,"text-singular":Oo,"textarea-enum":Po,...J},componentToCreate:Pt,dynamicZoneTarget:h,formErrors:B,isAddingAComponentToAnotherComponent:ws,isCreatingComponentWhileAddingAField:V,mainBoxHeader:U()(Le,[...Te,"schema","displayName"],""),modifiedData:P,naturePickerType:f,isCreating:Dt,targetUid:z,forTarget:f},Ua=Ba.advanced({data:P,type:u,step:I,actionType:r,attributes:Wn,extensions:me,forTarget:f,contentTypeSchema:Le.contentType||{},customField:X}).sections,ka=Ba.base({data:P,type:u,step:I,actionType:r,attributes:Wn,extensions:me,forTarget:f,contentTypeSchema:Le.contentType||{},customField:X}).sections,Ks=da(ka),Vs=da(Ua),Hs=Object.keys(B).some(G=>Ks.includes(G)),Gs=Object.keys(B).some(G=>Vs.includes(G)),Xs=U()(Tt,[z,"schema","kind"]),Ys=()=>r==="edit"&&Wn.every(({name:G})=>G!==P?.name),Js=()=>{Ys()&&k("didEditFieldNameOnContentType")};return e.createElement(Me.P,{onClose:ja,labelledBy:"title"},e.createElement(_,{actionType:r,attributeName:l,categoryName:p,contentTypeKind:x,dynamicZoneTarget:h,modalType:m,forTarget:f,targetUid:z,attributeType:u,customFieldUid:c}),Ia&&e.createElement(Ge,{attributes:Ws,forTarget:f,kind:Xs||"collectionType"}),!Ia&&e.createElement("form",{onSubmit:ze},e.createElement(st.f,null,e.createElement(pt.v,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:G=>{G===1&&Us("advanced")}},e.createElement(Ce.k,{justifyContent:"space-between"},e.createElement(Wa,{actionType:r,forTarget:f,kind:x,step:I,modalType:m,attributeType:u,attributeName:l,customField:X}),e.createElement(et.m,null,e.createElement(et.O,{hasError:Hs},fe({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),e.createElement(et.O,{hasError:Gs,disabled:qs()},fe({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),e.createElement(Pe.i,null),e.createElement(q.x,{paddingTop:6},e.createElement($e.n,null,e.createElement($e.x,null,e.createElement(Ae.K,{spacing:6},e.createElement(la,{form:ka,formErrors:B,genericInputProps:za,modifiedData:P,onChange:$a}))),e.createElement($e.x,null,e.createElement(Ae.K,{spacing:6},e.createElement(la,{form:Ua,formErrors:B,genericInputProps:za,modifiedData:P,onChange:$a}))))))),e.createElement(Gt.m,{endActions:e.createElement(We,{deleteCategory:In,deleteContentType:Vt,deleteComponent:Vt,categoryName:F.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:P.createComponent||!1,isCreatingComponentInDz:P.createComponent||!1,isCreatingComponentWhileAddingAField:V,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:I==="1",onSubmitAddComponentAttribute:ze,onSubmitAddComponentToDz:ze,onSubmitCreateComponent:ze,onSubmitCreateContentType:ze,onSubmitCreateDz:ze,onSubmitEditAttribute:ze,onSubmitEditCategory:ze,onSubmitEditComponent:ze,onSubmitEditContentType:ze,onSubmitEditCustomFieldAttribute:ze,onSubmitEditDz:ze,onClickFinish:Js}),startActions:e.createElement(H.z,{variant:"tertiary",onClick:ja},fe({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Ca=t=>t.reduce((a,o)=>(a[o.uid]=o,a),{}),Yo=(t,a,o,i)=>{const r=a.reduce((c,p)=>{const h=U()(o,p,{});return c[p]=h,c},{});return{[i?"contentType":"component"]:t,components:r}},Jo=(t,a)=>{const o=Object.keys(t).map(i=>(0,b.get)(t,[i,...a],""));return(0,de.Z)(o)};var Qo=s(19525);const _o=t=>{const a=Object.keys(t).reduce((o,i)=>{const r=(0,b.get)(t,[i,"schema","attributes"],[]),l=es(r);return[...o,...l]},[]);return(0,de.Z)(a)},es=t=>t.reduce((a,o)=>{const{type:i,component:r}=o;return i==="component"&&a.push(r),a},[]),Ea=_o,ts=t=>{const a=Object.keys(t).reduce((o,i)=>{const r=U()(t,[i],{}),l=r.uid;return ns(r)&&o.push(l),o},[]);return(0,de.Z)(a)},ns=t=>U()(t,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),as=(t,a)=>{const o=Object.keys(t).filter(i=>{const r=(0,b.get)(t,i,{}),l=(0,b.get)(a,i,{}),u=(0,b.get)(r,["isTemporary"],!1),c=!(0,b.isEqual)(r,l);return u||c});return(0,de.Z)(o)},os=(t,a)=>{const o=Ma((0,b.get)(t,"schema.attributes",[]),a),i=(0,b.get)(t,"isTemporary",!1)?{tmpUID:t.uid}:{uid:t.uid};return Object.assign({},i,{category:t.category},(0,b.omit)(t.schema,"attributes"),{attributes:o})},Ta=(t,a=!1)=>{const o=(0,b.get)(t,"uid",null),i=Ma((0,b.get)(t,"schema.attributes",[]),o),r=a?{category:(0,b.get)(t,"category","")}:{},l=Object.assign(r,(0,b.omit)(t.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Ma=(t,a)=>t.reduce((o,{name:i,...r})=>{const l=r,u=l.target===a,c=l.type==="relation",p=(0,b.get)(l,"targetAttribute",null);if(!u)if(c){const h=Object.assign({},l,{targetAttribute:xa(p)});o[i]=Kt(h)}else o[i]=Kt(l);if(u){const h=l.target,f=Object.assign({},l,{target:h,targetAttribute:xa(p)});o[i]=Kt(f)}if(l.customField){const h={...l,type:"customField"};o[i]=Kt(h)}return o},{}),xa=t=>t==="-"?null:t,Kt=t=>Object.keys(t).reduce((a,o)=>(t[o]!==null&&o!=="plugin"&&(a[o]=t[o]),a),{}),ss=(t,a,o,i=!1)=>as(t,a).map(u=>{const c=(0,b.get)(t,u,{});return os(c,o,i)}),rs=t=>(0,b.sortBy)(Object.keys(t).map(a=>({visible:t[a].schema.visible,name:a,title:t[a].schema.displayName,plugin:t[a].plugin||null,uid:a,to:`/plugins/${j.Z}/content-types/${a}`,kind:t[a].schema.kind,restrictRelationsTo:t[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>(0,b.camelCase)(a.title)),Ra="did-not-kill-server",is="server is down";function St(t,a){return new Promise(o=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(is);if(!a)throw new Error(Ra);o(t)}).catch(i=>{setTimeout(()=>St(t,i.message!==Ra).then(o),100)})})}const ls=t=>Object.values(t.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);var Se=s(92407),ds=s(87431);const us=()=>t=>t[`${j.Z}_dataManagerProvider`]||ds.E,cs=()=>(0,ba.P1)(us(),t=>t),ms=t=>Object.keys(t).reduce((a,o)=>{const i=t[o].schema;return a[o]={...t[o],schema:{...i,attributes:ps(i.attributes)}},a},{}),ps=t=>Object.keys(t).reduce((a,o)=>(a.push({...t[o],name:o}),a),[]),Aa=ms;var Lt=s(25108);const Pn=({children:t,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:l,modifiedData:u,reservedNames:c})=>{const p=(0,N.useDispatch)(),h=(0,g.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:m}=(0,g.useAutoReloadOverlayBlocker)(),{setCurrentStep:R}=(0,g.useGuidedTour)(),{getPlugin:x}=(0,g.useStrapiApp)(),{apis:I}=x(j.Z),{autoReload:z}=(0,g.useAppInfos)(),{formatMessage:X}=(0,v.useIntl)(),{trackUsage:Z}=(0,g.useTracking)(),{refetchPermissions:M}=(0,g.useRBACProvider)(),{pathname:S}=(0,y.useLocation)(),{onCloseModal:Y}=(0,ne.Z)(),se=(0,y.useRouteMatch)(`/plugins/${j.Z}/content-types/:uid`),be=(0,y.useRouteMatch)(`/plugins/${j.Z}/component-categories/:categoryUid/:componentUid`),k=(0,e.useRef)();k.current=X;const fe=z,te=se!==null,mt=te?"contentType":"component",me=te?(0,b.get)(se,"params.uid",null):(0,b.get)(be,"params.componentUid",null),J=(0,e.useRef)(),ye=te?"content-types":"components";J.current=async()=>{try{const[{data:{data:B}},{data:{data:F}},{data:V}]=await Promise.all(["components","content-types","reserved-names"].map(xt=>pe.get(xt))),P=Ca(B),Te=Aa(P),Ne=Ca(F),at=Aa(Ne);p({type:Se.Id,components:Te,contentTypes:at,reservedNames:V})}catch(B){Lt.error({err:B}),h({type:"warning",message:{id:"notification.error"}})}},(0,e.useEffect)(()=>(J.current(),()=>{p({type:Se.Zl})}),[]),(0,e.useEffect)(()=>{!i&&me&&Ht()},[i,S,me]),(0,e.useEffect)(()=>{z||h({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[z,h]);const Ot=(B,F,V,P=!1,Te,Ne=!1)=>{const at=P?Se.JO:Se.gz;p({type:at,attributeToSet:B,forTarget:F,targetUid:V,initialAttribute:Te,shouldAddComponentToData:Ne})},nt=({attributeToSet:B,forTarget:F,targetUid:V,initialAttribute:P})=>{p({type:Se.Ir,attributeToSet:B,forTarget:F,targetUid:V,initialAttribute:P})},ie=({attributeToSet:B,forTarget:F,targetUid:V,initialAttribute:P})=>{p({type:Se.Ly,attributeToSet:B,forTarget:F,targetUid:V,initialAttribute:P})},O=(B,F)=>{p({type:Se.Uu,dynamicZoneTarget:B,componentsToAdd:F})},Tt=(B,F,V,P,Te=!1)=>{const Ne=F==="contentType"?Se.Sh:Se.VR;p({type:Ne,data:B,componentCategory:P,schemaType:F,uid:V,shouldAddComponentToData:Te})},Nt=(B,F)=>{p({type:Se.o_,dynamicZoneTarget:B,newComponents:F})},Mt=(B,F,V="")=>{const P=B==="components"?Se.lw:Se.ai;B==="contentType"&&Z("willDeleteFieldOfContentType"),p({type:P,mainDataKey:B,attributeToRemoveName:F,componentUid:V})},In=async B=>{try{const F=`/component-categories/${B}`,V=window.confirm(X({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));Y(),V&&(f(),await pe.delete(F),await St(!0),await m(),await we())}catch(F){Lt.error({err:F}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},Vt=async()=>{try{const B=`/${ye}/${me}`,F=(0,b.get)(u,[mt,"isTemporary"],!1),V=window.confirm(X({id:(0,d.Z)(`popUpWarning.bodyMessage.${te?"contentType":"component"}.delete`)}));if(Y(),V){if(F){p({type:Se.Ap});return}f(),await pe.delete(B),await St(!0),await m(),await we()}}catch(B){Lt.error({err:B}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},$n=async(B,F)=>{try{const V=`/component-categories/${B}`;Y(),f(),await pe.put(V,F),await St(!0),await m(),await we()}catch(V){Lt.error({err:V}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},jn=()=>{const B=Object.assign({},a,u.components);if(!te){const V=(0,b.get)(u,"component",{});(0,b.set)(B,(0,b.get)(V,["uid"],""),V)}const F=ts(B);return(0,de.Z)(F)},Bn=()=>{const B=Ea(a),F=Ea(u.components||{});return(0,de.Z)([...F,...B])},Le=(B,F)=>{p({type:Se.NG,dzName:B,componentToRemoveIndex:F})},Ht=()=>{const B=te?o:a,F=(0,b.get)(B,me,{schema:{attributes:[]}}),V=(0,Qo.Z)(F.schema.attributes,a),P=Yo(F,V,a,te),Te=(0,b.get)(F,"isTemporary",!1)&&(0,b.size)((0,b.get)(F,"schema.attributes",[]))===0;p({type:Se.xx,schemaToSet:P,hasJustCreatedSchema:Te})},zn=(0,e.useMemo)(()=>{const B=te?o:a;return me==="create-content-type"?!1:!Object.keys(B).includes(me)&&!i},[a,o,me,te,i]),Un=(0,e.useMemo)(()=>{const B=Object.keys(o).filter(F=>(0,b.get)(o,[F,"schema","visible"],!0)).sort();return(0,b.get)(B,"0","create-content-type")},[o]);if(zn)return e.createElement(y.Redirect,{to:`/plugins/${j.Z}/content-types/${Un}`});const kn=async B=>{try{const F=(0,b.get)(u,[mt,"isTemporary"],!1),V={components:ss(u.components,a,me,F)};if(te){const Ne=I.forms.mutateContentTypeSchema({...Ta(u.contentType),...B},l.contentType);if(!ls(Ne)){h({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}V.contentType=Ne,Z("willSaveContentType")}else V.component=Ta(u.component,!0),Z("willSaveComponent");f();const P=`/${ye}`,Te=F?P:`${P}/${me}`;if(F?await pe.post(Te,V):await pe.put(Te,V),await St(!0),await m(),F&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&R("contentTypeBuilder.success"),te){Z("didSaveContentType");const Ne=(0,b.get)(V,["contentType","schema","name"],""),at=(0,b.get)(l,["contentType","schema","name"],"");!F&&Ne!==at&&Z("didEditNameOfContentType")}else Z("didSaveComponent");await we()}catch(F){te||Z("didNotSaveComponent"),Lt.error({err:F.response}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},we=async()=>{await M()},Pt=(B,F,V)=>{p({type:Se.bi,data:B,schemaType:F,uid:V})};return e.createElement(re.Z.Provider,{value:{addAttribute:Ot,addCustomFieldAttribute:nt,addCreatedComponentToDynamicZone:O,allComponentsCategories:Jo(a,["category"]),changeDynamicZoneComponents:Nt,components:a,componentsGroupedByCategory:(0,b.groupBy)(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:jn(),contentTypes:o,createSchema:Tt,deleteCategory:In,deleteData:Vt,editCategory:$n,editCustomFieldAttribute:ie,isInDevelopmentMode:fe,initialData:l,isInContentTypeView:te,modifiedData:u,nestedComponents:Bn(),removeAttribute:Mt,removeComponentFromDynamicZone:Le,reservedNames:c,setModifiedData:Ht,sortedContentTypesList:rs(o),submitData:kn,updateSchema:Pt}},r?e.createElement(g.LoadingIndicatorPage,null):e.createElement(e.Fragment,null,t,fe&&e.createElement(Xo,null)))};Pn.defaultProps={components:{}},Pn.propTypes={children:n().node.isRequired,components:n().object,contentTypes:n().object.isRequired,isLoading:n().bool.isRequired,isLoadingForDataToBeSet:n().bool.isRequired,initialData:n().object.isRequired,modifiedData:n().object.isRequired,reservedNames:n().object.isRequired};const gs=cs(),fs=(0,N.connect)(gs,null),ys=(0,le.compose)(fs)((0,e.memo)(Pn));var hs=s(98422);const Za={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Fa=({children:t})=>{const[a,o]=(0,e.useState)(Za),{trackUsage:i}=(0,g.useTracking)(),r=({attributeType:Z,customFieldUid:M})=>{o(S=>({...S,actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:M}))},l=({attributeType:Z,step:M})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:Z}),o(S=>({...S,actionType:"create",modalType:"attribute",step:M,attributeType:Z}))},u=({dynamicZoneTarget:Z,targetUid:M})=>{o(S=>({...S,dynamicZoneTarget:Z,targetUid:M,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:Z,targetUid:M})=>{o(S=>({...S,actionType:"create",forTarget:Z,targetUid:M,modalType:"chooseAttribute",isOpen:!0}))},p=Z=>{o(M=>({...M,...Z,isOpen:!0}))},h=Z=>{o(M=>({...M,categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:Z,targetUid:M,attributeName:S,attributeType:Y,customFieldUid:se})=>{o(be=>({...be,modalType:"customField",customFieldUid:se,actionType:"edit",forTarget:Z,targetUid:M,attributeName:S,attributeType:Y,isOpen:!0}))},m=({forTarget:Z,targetUid:M,attributeName:S,attributeType:Y,step:se})=>{o(be=>({...be,modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:M,attributeName:S,attributeType:Y,step:se,isOpen:!0}))},R=({modalType:Z,forTarget:M,targetUid:S,kind:Y})=>{o(se=>({...se,modalType:Z,actionType:"edit",forTarget:M,targetUid:S,kind:Y,isOpen:!0}))},x=()=>{o(Za)},I=({forTarget:Z,targetUid:M})=>{o(S=>({...S,forTarget:Z,targetUid:M,modalType:"chooseAttribute"}))},z=()=>{o(Z=>({...Z,attributeType:"component",modalType:"attribute",step:"2"}))},X=({dynamicZoneTarget:Z})=>{o(M=>({...M,dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return e.createElement(hs.Z.Provider,{value:{...a,onClickSelectField:l,onClickSelectCustomField:r,onCloseModal:x,onNavigateToChooseAttributeModal:I,onNavigateToAddCompoToDZModal:X,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:z,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:h,onOpenModalEditField:m,onOpenModalEditCustomField:f,onOpenModalEditSchema:R,setFormModalNavigationState:o}},t)};Fa.propTypes={children:n().node.isRequired};const bs=Fa,vs=(0,e.lazy)(()=>s.e(5905).then(s.bind(s,76761))),Cs=()=>{const{url:t}=(0,y.useRouteMatch)(),{categoryUid:a}=(0,y.useParams)();return e.createElement(e.Suspense,{fallback:e.createElement(g.LoadingIndicatorPage,null)},e.createElement(y.Switch,null,e.createElement(y.Route,{path:`${t}/:componentUid`},e.createElement(vs,{categoryId:a}))))};var Es=s(53192),Ts=s(38702),Ms=s(34446),xs=s(29489);const Rs=(0,Be.default)(q.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:t})=>t.colors.neutral700};
    }
  }
`,As=Be.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Zs=Be.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:t})=>t?"0deg":"180deg"});
`,Dn=({label:t,children:a,id:o})=>{const[i,r]=(0,e.useState)(!0),l=(0,Yn.M)(o),u=()=>{r(c=>!c)};return e.createElement(q.x,null,e.createElement(Rs,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},e.createElement(Ce.k,{justifyContent:"space-between"},e.createElement(As,{onClick:u,"aria-expanded":i,"aria-controls":l},e.createElement(Zs,{rotated:i},e.createElement(dn.CarretDown,{"aria-hidden":!0})),e.createElement(q.x,{paddingLeft:2},e.createElement(he.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},t))))),i&&e.createElement("ul",{id:l},e.Children.map(a,(c,p)=>e.createElement("li",{key:p},c))))};Dn.defaultProps={id:void 0},Dn.propTypes={children:L.node.isRequired,id:L.string,label:L.string.isRequired};var Sa=s(52305),Fs=s(39785),Ss=s(41609),Ls=s.n(Ss),Os=s(89734),La=s.n(Os),Ns=s(18446),Ps=s.n(Ns),Ds=s(63852);const Is=()=>{const{components:t,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:l,initialData:u}=(0,He.Z)(),c=(0,g.useNotification)(),{trackUsage:p}=(0,g.useTracking)(),[h,f]=(0,e.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:R}=(0,ne.Z)(),x=La()(Object.keys(a).map(k=>({name:k,title:k,isEditable:i,onClickEdit(fe,te){fe.stopPropagation(),I?R(te.name):M()},links:La()(a[k].map(fe=>({name:fe.uid,to:`/plugins/${j.Z}/component-categories/${k}/${fe.uid}`,title:fe.schema.displayName})),fe=>fe.title)})),k=>k.title),I=!Object.keys(o).some(k=>o[k].isTemporary===!0)&&!Object.keys(t).some(k=>t[k].isTemporary===!0)&&Ps()(l,u),z=()=>{I?(p("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):M()},X=()=>{I?(p("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):M()},Z=()=>{I?(p("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):M()},M=()=>{c({type:"info",message:{id:`${(0,d.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},S=r.filter(k=>k.visible),Y=[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:z},links:S.filter(k=>k.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:X},links:S.filter(k=>k.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:x}],se=k=>h?(0,Ds.ZP)(k,K()(h),{keys:[fe=>K()(fe.title)]}):k;return{menu:(()=>Y.map(k=>k.links.some(te=>!Ls()(te.links))?{...k,links:k.links.map(te=>({...te,links:se(te.links)}))}:{...k,links:se(k.links)}))(),searchValue:h,onSearchChange:f}},$s=()=>{const{menu:t,searchValue:a,onSearchChange:o}=Is(),{formatMessage:i}=(0,v.useIntl)();return e.createElement(Es.m,{ariaLabel:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},e.createElement(Ts.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),e.createElement(Ms.Z,null,t.map(r=>e.createElement(e.Fragment,{key:r.name},e.createElement(xs.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(l=>l.links?e.createElement(Dn,{key:l.name,label:je()(l.title)},l.links.map(u=>e.createElement(Sa.E,{as:y.NavLink,to:u.to,active:u.active,key:u.name,isSubSectionChild:!0},je()(i({id:u.name,defaultMessage:u.title}))))):e.createElement(Sa.E,{as:y.NavLink,to:l.to,active:l.active,key:l.name},je()(i({id:l.name,defaultMessage:l.title}))))),r.customLink&&e.createElement(q.x,{paddingLeft:7},e.createElement(Fs.A,{onClick:r.customLink.onClick,startIcon:e.createElement(ve.default,null),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))},Oa=(0,e.lazy)(()=>s.e(5905).then(s.bind(s,76761))),js=()=>{const{formatMessage:t}=(0,v.useIntl)(),a=t({id:`${j.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,g.useGuidedTour)(),i=(0,e.useRef)(o);return(0,e.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),e.createElement(g.CheckPagePermissions,{permissions:C.Z.main},e.createElement(A.Helmet,{title:a}),e.createElement(bs,null,e.createElement(ys,null,e.createElement($.A,{sideNav:e.createElement($s,null)},e.createElement(e.Suspense,{fallback:e.createElement(g.LoadingIndicatorPage,null)},e.createElement(y.Switch,null,e.createElement(y.Route,{path:`/plugins/${j.Z}/content-types/create-content-type`,component:Oa}),e.createElement(y.Route,{path:`/plugins/${j.Z}/content-types/:uid`,component:Oa}),e.createElement(y.Route,{path:`/plugins/${j.Z}/component-categories/:categoryUid`,component:Cs})))))))}},5002:(w,W,s)=>{"use strict";s.d(W,{Z:()=>A});var e=s(96124);const A=v=>`${e.Z}.${v}`},89881:(w,W,s)=>{var e=s(47816),y=s(99291),A=y(e);w.exports=A},23933:(w,W,s)=>{var e=s(44239),y=s(37005),A="[object RegExp]";function v(g){return y(g)&&e(g)==A}w.exports=v},69199:(w,W,s)=>{var e=s(89881),y=s(98612);function A(v,g){var $=-1,C=y(v)?Array(v.length):[];return e(v,function(j,L,n){C[++$]=g(j,L,n)}),C}w.exports=A},82689:(w,W,s)=>{var e=s(29932),y=s(97786),A=s(67206),v=s(69199),g=s(71131),$=s(7518),C=s(85022),j=s(6557),L=s(1469);function n(b,N,le){N.length?N=e(N,function(Q){return L(Q)?function(ae){return y(ae,Q.length===1?Q[0]:Q)}:Q}):N=[j];var re=-1;N=e(N,$(A));var ne=v(b,function(Q,ae,oe){var pe=e(N,function(d){return d(Q)});return{criteria:pe,index:++re,value:Q}});return g(ne,function(Q,ae){return C(Q,ae,le)})}w.exports=n},71131:w=>{function W(s,e){var y=s.length;for(s.sort(e);y--;)s[y]=s[y].value;return s}w.exports=W},26393:(w,W,s)=>{var e=s(33448);function y(A,v){if(A!==v){var g=A!==void 0,$=A===null,C=A===A,j=e(A),L=v!==void 0,n=v===null,b=v===v,N=e(v);if(!n&&!N&&!j&&A>v||j&&L&&b&&!n&&!N||$&&L&&b||!g&&b||!C)return 1;if(!$&&!j&&!N&&A<v||N&&g&&C&&!$&&!j||n&&g&&C||!L&&C||!b)return-1}return 0}w.exports=y},85022:(w,W,s)=>{var e=s(26393);function y(A,v,g){for(var $=-1,C=A.criteria,j=v.criteria,L=C.length,n=g.length;++$<L;){var b=e(C[$],j[$]);if(b){if($>=n)return b;var N=g[$];return b*(N=="desc"?-1:1)}}return A.index-v.index}w.exports=y},99291:(w,W,s)=>{var e=s(98612);function y(A,v){return function(g,$){if(g==null)return g;if(!e(g))return A(g,$);for(var C=g.length,j=v?C:-1,L=Object(g);(v?j--:++j<C)&&$(L[j],j,L)!==!1;);return g}}w.exports=y},96347:(w,W,s)=>{var e=s(23933),y=s(7518),A=s(31167),v=A&&A.isRegExp,g=v?y(v):e;w.exports=g},89734:(w,W,s)=>{var e=s(21078),y=s(82689),A=s(5976),v=s(16612),g=A(function($,C){if($==null)return[];var j=C.length;return j>1&&v($,C[0],C[1])?C=[]:j>2&&v(C[0],C[1],C[2])&&(C=[C[0]]),y($,e(C,1),[])});w.exports=g},7334:(w,W,s)=>{var e=s(79833);function y(A){return e(A).toLowerCase()}w.exports=y},39138:(w,W,s)=>{var e=s(80531),y=s(40180),A=s(62689),v=s(13218),g=s(96347),$=s(88016),C=s(83140),j=s(40554),L=s(79833),n=30,b="...",N=/\w*$/;function le(re,ne){var Q=n,ae=b;if(v(ne)){var oe="separator"in ne?ne.separator:oe;Q="length"in ne?j(ne.length):Q,ae="omission"in ne?e(ne.omission):ae}re=L(re);var pe=re.length;if(A(re)){var d=C(re);pe=d.length}if(Q>=pe)return re;var de=Q-$(ae);if(de<1)return ae;var ue=d?y(d,0,de).join(""):re.slice(0,de);if(oe===void 0)return ue+ae;if(d&&(de+=ue.length-de),g(oe)){if(re.slice(de).search(oe)){var U,Qe=ue;for(oe.global||(oe=RegExp(oe.source,L(N.exec(oe))+"g")),oe.lastIndex=0;U=oe.exec(Qe);)var _e=U.index;ue=ue.slice(0,_e===void 0?de:_e)}}else if(re.indexOf(e(oe),de)!=de){var Ke=ue.lastIndexOf(oe);Ke>-1&&(ue=ue.slice(0,Ke))}return ue+ae}w.exports=le},44908:(w,W,s)=>{var e=s(45652);function y(A){return A&&A.length?e(A):[]}w.exports=y},2407:(w,W,s)=>{"use strict";s.d(W,{$:()=>L,O:()=>n});var e=s(85893),y=s(71893),A=s(41363),v=s(75515),g=s(41580),$=s(11047),C=s(63237);const j=(0,y.default)($.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:b})=>b.colors.neutral500};
    }
  }
  :last-of-type ${g.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:b})=>b.colors.neutral800};
    font-weight: ${({theme:b})=>b.fontWeights.bold};
  }
`,L=({children:b})=>(0,e.jsxs)(j,{inline:!0,as:"li",children:[(0,e.jsx)(v.Z,{variant:"pi",textColor:"neutral600",children:b}),(0,e.jsx)(g.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,e.jsx)(A.ChevronRight,{})})]});L.displayName="Crumb";const n=({children:b,label:N,...le})=>(0,e.jsxs)($.k,{...le,children:[(0,e.jsx)(C.T,{children:N}),(0,e.jsx)("ol",{"aria-hidden":!0,children:b})]});n.displayName="Breadcrumbs"},38855:(w,W,s)=>{"use strict";s.d(W,{h:()=>Ve,X:()=>Re});var e=s(67294),y=s(45697),A=s(41363),v=s(14085),g=s(70389),$=s(7801);const C={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},j={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function L(K=[],q=null,H=[]){const Pe=String(q??"").toLowerCase();return Pe?K.filter(Me=>Me.props.children.toString().toLowerCase().includes(Pe)&&H.indexOf(Me)<0):K}function n(K,q){if(!q&&K===$.y.DOWN)return C.Open;if(K===$.y.DOWN)return C.Next;if(K===$.y.UP)return C.Previous;if(K===$.y.HOME)return C.First;if(K===$.y.END)return C.Last;if(K===$.y.ESCAPE)return C.Close;if(K===$.y.ENTER)return C.CloseSelect;if(K===$.y.BACKSPACE||K===$.y.CLEAR||K.length===1)return C.Type}function b(K,q,H){switch(H){case C.First:return 0;case C.Last:return q;case C.Previous:return Math.max(0,K-1);case C.Next:return Math.min(q,K+1);default:return K}}function N(K){(0,g.Z)(K,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:q,top:H,left:Pe})=>{q.scrollTop=H,q.scrollLeft=Pe})}var le=s(11047),re=s(81318),ne=s(88533),Q=s(41580),ae=s(75515),oe=s(88655),pe=s(74020),d=s(90608),de=s(54574),ue=s(64777),U=s(63428),Qe=s(96404),_e=s(7681),Ke=s(63237);const Ve=({children:K,clearLabel:q,creatable:H,createMessage:Pe,disabled:Me,error:st,hasMoreItems:Gt,hint:pt,id:et,label:$e,labelAction:Ce,loading:Ae,loadingMessage:He,noOptionsMessage:It,onChange:$t,onClear:je,onCreateOption:Xt,onInputChange:gt,onLoadMore:Yt,placeholder:he,required:Jt,value:qe,...At})=>{const ft=()=>K.find(_=>_.props?.value.toLowerCase()===qe.toLowerCase()).props?.children,[Ze,rt]=(0,e.useState)(0),[Be,wn]=(0,e.useState)(null),[De,yt]=(0,e.useState)(K),[Ye,Kn]=(0,e.useState)(!1),[Fe,it]=(0,e.useState)(""),lt=(0,e.useRef)(),ht=(0,e.useRef)(!1),dt=(0,e.useRef)(),jt=(0,e.useRef)(),Qt=(0,e.useRef)(),bt=(0,e.useRef)(!0),ve=(0,v.M)(et),_t=`${ve}-label`;if(!$e&&!At["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,e.useEffect)(()=>{yt(L(K,Fe))},[Fe,K]),(0,e.useEffect)(()=>{Ye&&lt.current&&N(lt.current)},[Ze,Ye]),(0,e.useLayoutEffect)(()=>{bt.current&&(bt.current=!1)},[qe]);const en=Ye?`${ve}-${Ze}`:"",Bt=()=>{$t(null),it("")},Vn=_=>{gt&&gt(_);const ge=dt.current.value;yt(L(K,ge)),rt(0),wn(null),Fe!==ge&&it(ge),Ye||Ge(!0,!1)},tn=_=>{const{key:ge}=_,We=H&&Fe?De.length:De.length-1,ct=n(ge,Ye);switch(qe&&!Fe&&ge===$.y.BACKSPACE&&Bt(),ct){case C.Next:{if(Ze===We){Je(0);break}Je(b(Ze,We,ct));break}case C.Previous:{if(Ze===0){Je(We);break}Je(b(Ze,We,ct));break}case C.Last:case C.First:{if(Ze===We){Je(0);break}Je(b(Ze,We,ct));break}case C.CloseSelect:_.preventDefault(),vt(Ze);break;case C.Close:_.preventDefault(),Ge(!1);break;case C.Open:Ge(!0);break}},zt=_=>{if(_.preventDefault(),qe&&!ht.current&&it(""),ht.current){ht.current=!1;return}Ge(!1,!1)},Je=_=>{rt(_)},Hn=_=>{Je(_),vt(_)},Ut=()=>{ht.current=!0},vt=_=>{const ge=De[_];if(it(""),ge){$t(ge.props.value),Ge(!1);return}H&&(Xt(Fe),Ge(!1))},Ge=(_,ge=!0)=>{Kn(_),ge&&dt.current.focus()},nn=e.Children.toArray(De).map((_,ge)=>{const We=Ze===ge;return(0,e.cloneElement)(_,{id:`${ve}-${ge}`,"aria-selected":Be===ge,"aria-posinset":ge+1,"aria-setsize":e.Children.toArray(De).length,ref(ct){We&&(lt.current=ct)},onClick:()=>Hn(ge),onMouseDown:Ut,isSelected:We})}),Zt=()=>{dt.current.focus(),je&&je(),Bt()},an=()=>{dt.current.focus(),Ge(!0)},Ft=()=>{const _=De.findIndex(ge=>ge.props?.children===Fe);return Fe&&_===-1},kt=_=>{_.preventDefault(),Ge(_,!0)};let ut;return st?ut=`${ve}-error`:pt&&(ut=`${ve}-hint`),e.createElement(de.g,{hint:pt,error:st,id:ve,required:Jt},e.createElement(Ke.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},qe),e.createElement(_e.K,{spacing:$e||pt||st?1:0},$e&&e.createElement(ue.Q,{action:Ce},$e),e.createElement(pe.d8,{ref:jt,$disabled:Me,hasError:st},e.createElement(pe.fv,{wrap:"wrap"},!Fe&&qe&&e.createElement(pe.K7,{id:`${ve}-selected-value`},e.createElement(ae.Z,null,ft())),e.createElement(pe.II,{"aria-activedescendant":en,"aria-autocomplete":"list","aria-controls":`${ve}-listbox`,"aria-disabled":Me,"aria-expanded":Ye,"aria-haspopup":"listbox","aria-describedby":ut,autoComplete:"off",autoCorrect:"off",id:ve,onBlur:Me?void 0:zt,onClick:Me?void 0:kt,onInput:Me?void 0:Vn,onKeyDown:Me?void 0:tn,placeholder:qe?"":he,readOnly:Me,ref:dt,required:Jt,role:"combobox",spellCheck:"off",type:"text",value:Fe})),e.createElement(le.k,null,(qe||Fe)&&e.createElement(re.zb,{id:`${ve}-clear`,"aria-label":q,disabled:Me,paddingLeft:3,as:"button",onClick:Zt,type:"button"},e.createElement(A.Cross,null)),e.createElement(re.AV,{disabled:Me,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:an,tabIndex:-1,type:"button"},e.createElement(A.CarretDown,null)))),e.createElement(U.J,null),e.createElement(Qe.c,null)),Ye&&e.createElement(ne.J2,{id:`${ve}-popover`,source:jt,spacing:4,fullWidth:!0,intersectionId:`${ve}-listbox-popover-intersection`,onReachEnd:Gt&&!Ae?Yt:void 0},e.createElement("div",{role:"listbox",ref:Qt,id:`${ve}-listbox`,"aria-labelledby":$e?_t:void 0},(Boolean(De.length)||H)&&e.createElement(e.Fragment,null,nn,Ft()&&H&&e.createElement(d.O,{isSelected:Ze===De.length,ref:_=>{Ze===De.length&&(lt.current=_)},onMouseDown:Ut,onClick:()=>vt(),taindex:0},Pe(Fe))),!De.length&&!H&&!Ae&&e.createElement(Q.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:lt},e.createElement(ae.Z,{textColor:"neutral800"},It(Fe))),Ae&&e.createElement(le.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},e.createElement(oe.a,{small:!0},He)))))},Re=K=>e.createElement(Ve,{...K,creatable:!0});Ve.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:K=>`Create "${K}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},Re.defaultProps=Ve.defaultProps,Ve.propTypes={"aria-label":y.string,children:y.oneOfType([y.arrayOf(y.node),y.node]),clearLabel:y.string,creatable:y.bool,createMessage:y.func,disabled:y.bool,error:y.string,hasMoreItems:y.bool,id:y.string,hint:y.oneOfType([y.string,y.node,y.arrayOf(y.node)]),label:y.string,labelAction:y.element,loading:y.bool,loadingMessage:y.string,noOptionsMessage:y.func,onChange:y.func.isRequired,onClear:y.func,onCreateOption:y.func,onInputChange:y.func,onLoadMore:y.func,placeholder:y.string,value:y.string},Re.propTypes={...Ve.propTypes,onCreateOption:y.func.isRequired}},90608:(w,W,s)=>{"use strict";s.d(W,{O:()=>g});var e=s(67294),y=s(45697),A=s(75515),v=s(74020);const g=(0,e.forwardRef)(({isSelected:$,children:C,...j},L)=>e.createElement(v.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:$,ref:L,...j},e.createElement(A.Z,{textColor:$?"primary600":"neutral800",fontWeight:$?"bold":null},C)));g.defaultProps={isSelected:!1},g.propTypes={children:y.oneOfType([y.string,y.number]).isRequired,isSelected:y.bool},g.displayName="ComboboxOption"},74020:(w,W,s)=>{"use strict";s.d(W,{II:()=>j,K7:()=>$,Zq:()=>L,d8:()=>g,fv:()=>C});var e=s(71893),y=s(41580),A=s(11047),v=s(15585);const g=(0,e.default)(A.k)`
  position: relative;
  border: 1px solid ${({theme:n,hasError:b})=>b?n.colors.danger600:n.colors.neutral200};
  padding-right: ${({theme:n})=>n.spaces[3]};
  padding-left: ${({theme:n})=>n.spaces[3]};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};

  ${({theme:n,$disabled:b})=>b?`
    color: ${n.colors.neutral600};
    background: ${n.colors.neutral150};
  `:void 0}

  ${(0,v.k3)()}
`,$=e.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,C=(0,e.default)(A.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,j=e.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:n})=>n.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,L=(0,e.default)(y.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:n,theme:b})=>n&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:n})=>n.colors.primary100};
  }
`},32064:(w,W,s)=>{"use strict";s.d(W,{Q:()=>b});var e=s(67294),y=s(49656),A=s(71893),v=s(45697),g=s(75515),$=s(41580),C=s(92577),j=s(78474),L=s(21817);const n=(0,A.default)(L.G)`
  padding: ${({theme:N,size:le})=>`${le==="S"?N.spaces[2]:"10px"} ${N.spaces[4]}`};
  background: ${({theme:N})=>N.colors.buttonPrimary600};
  border: 1px solid ${({theme:N})=>N.colors.buttonPrimary600};
  border-radius: ${({theme:N})=>N.borderRadius};
  ${$.x} {
    display: flex;
    align-items: center;
  }
  ${g.Z} {
    color: ${({theme:N})=>N.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${C.sg}
    &:active {
      ${C.sg}
    }
  }
  &:hover {
    ${C.yP}
  }
  &:active {
    ${C.tB}
  }
  ${C.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:N})=>N?"none":void 0};
`,b=e.forwardRef(({variant:N,startIcon:le,endIcon:re,disabled:ne,children:Q,size:ae,href:oe,to:pe,...d},de)=>{const ue=oe?"_blank":void 0,U=oe?"noreferrer noopener":void 0;return e.createElement(n,{ref:de,"aria-disabled":ne,size:ae,variant:N,target:ue,rel:U,to:ne?void 0:pe,href:ne?"#":oe,...d,as:pe&&!ne?y.NavLink:"a"},le&&e.createElement($.x,{"aria-hidden":!0,paddingRight:2},le),ae==="S"?e.createElement(g.Z,{variant:"pi",fontWeight:"bold"},Q):e.createElement(g.Z,{fontWeight:"bold"},Q),re&&e.createElement($.x,{"aria-hidden":!0,paddingLeft:2},re))});b.displayName="LinkButton",b.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},b.propTypes={children:v.node.isRequired,disabled:v.bool,endIcon:v.element,href(N){if(!N.disabled&&!N.to&&!N.href)return new Error("href must be defined")},onClick:v.func,size:v.oneOf(j.Gt),startIcon:v.element,to(N){if(!N.disabled&&!N.href&&!N.to)return new Error("to must be defined")},variant:v.oneOf(j.ZC)}},39785:(w,W,s)=>{"use strict";s.d(W,{A:()=>N});var e=s(85893),y=s(67294),A=s(71893),v=s(41363),g=s(41580),$=s(75515),C=s(11047),j=s(15585);const L=A.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,n=A.default.div`
  animation: ${L} 2s infinite linear;
  will-change: transform;
`,b=(0,A.default)(C.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:le})=>le.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:le})=>le.colors.primary600};
  }

  ${j.BF}
`,N=y.forwardRef(({children:le,startIcon:re,endIcon:ne,onClick:Q,disabled:ae=!1,loading:oe=!1,...pe},d)=>{const de=Q&&!ae?Q:void 0,ue=ae||oe;return(0,e.jsxs)(b,{ref:d,"aria-disabled":ue,onClick:de,as:"button",type:"button",...pe,children:[(re||oe)&&(0,e.jsx)(g.x,{as:"span",paddingRight:2,"aria-hidden":!0,children:oe?(0,e.jsx)(n,{children:(0,e.jsx)(v.Loader,{})}):re}),(0,e.jsx)($.Z,{variant:"pi",textColor:ue?"neutral600":"primary600",children:le}),ne&&(0,e.jsx)(g.x,{as:"span",paddingLeft:2,"aria-hidden":!0,children:ne})]})});N.displayName="TextButton"}}]);
